@model WebBanHang.Models.ViewModel.HomeProductVM
@using PagedList.Mvc
@using PagedList

@{
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
    ViewBag.Title = "Trang Quản Trị - Danh sách sản phẩm";
}

@if (Model.Products == null || !Model.Products.Any())
{
    <p>Hiện chưa có sản phẩm nào trong hệ thống.</p>
}
else
{
    <table class="table table-bordered table-hover mt-3">
        <thead style="background-color: #f2f2f2;">
            <tr>
                <th>ID</th>
                <th>Tên sản phẩm</th>
                <th>Danh mục</th>
                <th>Giá</th>
                <th>Hình ảnh</th>
                <th>Số lượng đã bán</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.Products)
            {
                <tr>
                    <td>@item.ProductID</td>
                    <td>@item.ProductName</td>
                    <td>@(item.Category != null ? item.Category.CategoryName : "—")</td>
                    <td>@String.Format("{0:N0}₫", item.ProductPrice)</td>
                    <td>
                        @if (!string.IsNullOrEmpty(item.ProductImage))
                        {
                            <img src="@item.ProductImage" alt="@item.ProductName" width="100" />
                        }
                        else
                        {
                            <span>Không có ảnh</span>
                        }
                    </td>
                    <td>@item.OrderDetails.Count()</td>
                </tr>
            }
        </tbody>
    </table>

    <!-- PHÂN TRANG -->
    <div class="pagination-container text-center">
        @Html.PagedListPager(
            Model.Products,
            page => Url.Action("Index", new { page }),
            new PagedListRenderOptions
            {
                DisplayLinkToPreviousPage = PagedListDisplayMode.Always,
                DisplayLinkToNextPage = PagedListDisplayMode.Always,
                DisplayLinkToFirstPage = PagedListDisplayMode.Always,
                DisplayLinkToLastPage = PagedListDisplayMode.Always,
                UlElementClasses = new[] { "pagination", "justify-content-center" },
                LiElementClasses = new[] { "page-item" },

            }
        )
    </div>

}
<style>
    .pagination li a, .pagination li span {
        border: 1px solid #ddd;
        padding: 8px 12px;
        color: #007bff;
    }

    .pagination li.active span {
        background-color: #007bff;
        color: #fff;
    }

    .pagination li.disabled span {
        color: #ccc;
    }
</style>
